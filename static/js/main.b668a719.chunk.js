(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{17:function(e,t,s){e.exports={contacts__page:"contacts_contacts__page__3ZpEu",community__item:"contacts_community__item__wsYvw",item__description:"contacts_item__description__2T5NL",item__name:"contacts_item__name__2oLLK",avatarCapture:"contacts_avatarCapture__2LqI6",selectedPage:"contacts_selectedPage__3cNYI",pageNumber:"contacts_pageNumber__3rD0M"}},18:function(e,t,s){e.exports={menu:"header_menu__3XOvN",item:"header_item__2ourn",item_active:"header_item_active__3ligU",loginBlock:"header_loginBlock__V4w1S",list:"header_list__1Zbdx"}},19:function(e,t,s){e.exports={community:"messages_community__RuPoA",community__item:"messages_community__item__2AHpz",messages:"messages_messages__2wORp",avatarCapture:"messages_avatarCapture__N5HYT",item__name:"messages_item__name__2umqE",active:"messages_active__31G_i"}},24:function(e,t,s){e.exports={page:"App_page___ohDJ",page__header:"App_page__header__nlZ3U",page__sidebar:"App_page__sidebar__FqZcm",page__profile:"App_page__profile__1vtlW",page__content:"App_page__content__2I6tP"}},25:function(e,t,s){e.exports={profile__img:"profileinfo_profile__img__1zLdn",profileInfo:"profileinfo_profileInfo__2PLL0",photos__small:"profileinfo_photos__small__1Bzcl",photos__large:"profileinfo_photos__large__2C_Q_"}},26:function(e,t,s){e.exports={post__item:"myPosts_post__item__ow4aV",post__text:"myPosts_post__text__2gKSY",button:"myPosts_button__E0RLG"}},28:function(e,t,s){e.exports={list__item:"listItem_list__item__3Xi_g",item__description:"listItem_item__description__1P_0y",item__input:"listItem_item__input__1Bgc4"}},34:function(e,t,s){e.exports={profile:"profile_profile__1lJO8",profile__posts:"profile_profile__posts__1a1PD"}},45:function(e,t,s){e.exports={item:"news_item__2u6gy"}},46:function(e,t,s){e.exports={item:"settings_item__3PIdc"}},54:function(e,t,s){},64:function(e,t,s){},65:function(e,t,s){},66:function(e,t,s){e.exports={ld:"preloader_ld__2xUg0","ldio-jz13tm5oo6k":"preloader_ldio-jz13tm5oo6k__1FTYq",loading:"preloader_loading__2n_Lh"}},7:function(e,t,s){e.exports={sidebar:"sidebar_sidebar__1FYwt",item:"sidebar_item__1GsmI",active:"sidebar_active__9ZPYm"}},84:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(1),r=s.n(n),i=s(27),c=s.n(i),o=(s(54),s(22)),l=s(21),u=s(2),d="ADD-MESSAGE",p="UPDATE-NEW-MESSAGE-TEXT",j={arrMessages:[{id:0,message:"Hi! How are you?"},{id:1,message:"Hello"},{id:2,message:"What are you doing?"},{id:3,message:"How is your study?"}],newMessageText:"",arrCommunity:[{id:1,name:"Max",avatar:"https://cdn1.iconfinder.com/data/icons/avatars-55/100/avatar_profile_user_music_headphones_shirt_cool-512.png"},{id:2,name:"Olga",avatar:"https://cdn1.iconfinder.com/data/icons/users-avatars-2/128/girl_avatar_4-512.png"},{id:3,name:"Peter",avatar:"https://cdn1.iconfinder.com/data/icons/user-avatars-2/300/02-512.png"},{id:4,name:"John",avatar:"https://cdn1.iconfinder.com/data/icons/user-avatars-2/300/07-512.png"}]},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:var s={id:e.arrMessages.length,message:e.newMessageText};return Object(u.a)(Object(u.a)({},e),{},{arrMessages:[].concat(Object(l.a)(e.arrMessages),[s]),newMessageText:""});case p:return Object(u.a)(Object(u.a)({},e),{},{newMessageText:t.updateMessage});default:return e}},_={headerItems:["item1","item2","item3","item4"]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;return e},b={sidebarItems:["item1","item2","item3","item4"]},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return e},f="ADD-TASK",O="UPDATE-NEW-TASK-TEXT",x={arrListData:[{id:0,description:"\u0421\u0445\u043e\u0434\u0438\u0442\u044c \u0432 \u043c\u0430\u0433\u0430\u0437\u0438\u043d",completed:!1},{id:1,description:"\u041f\u043e\u043c\u044b\u0442\u044c \u043a\u043e\u0442\u0430",completed:!1},{id:2,description:"\u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435",completed:!1},{id:3,description:"\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u044e",completed:!1},{id:4,description:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c 100 \u043b\u0435\u043a\u0446\u0438\u0439 \u043f\u043e react",completed:!1}],newTaskText:""},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:var s={id:e.arrListData.length,description:e.newTaskText,completed:!1};return Object(u.a)(Object(u.a)({},e),{},{arrListData:[].concat(Object(l.a)(e.arrListData),[s]),newTaskText:""});case O:return Object(u.a)(Object(u.a)({},e),{},{newTaskText:t.updateTask});default:return e}},P="SHOW-MORE",T="FOLLOW",N="UNFOLLOW",w="SET-USERS",C="SET-CURRENT-PAGE",y="SET-TOTAL-USERS-COUNT",k="TOGGLE-IS-FETCHING",U={arrUsers:[],pageSize:7,totalUsersCount:null,currentPage:1,isFetching:!0},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(u.a)(Object(u.a)({},e),{},{arrUsers:e.arrUsers.map((function(e){return e.id===t.userId?Object(u.a)(Object(u.a)({},e),{},{followed:!0}):e}))});case N:return Object(u.a)(Object(u.a)({},e),{},{arrUsers:e.arrUsers.map((function(e){return e.id===t.userId?Object(u.a)(Object(u.a)({},e),{},{followed:!1}):e}))});case w:return Object(u.a)(Object(u.a)({},e),{},{arrUsers:t.users});case P:return e;case C:return Object(u.a)(Object(u.a)({},e),{},{currentPage:t.currentPage});case y:return Object(u.a)(Object(u.a)({},e),{},{totalUsersCount:t.totalUsersCount});case k:return Object(u.a)(Object(u.a)({},e),{},{isFetching:t.isFetching});default:return e}},A="SET-USER-PROFILE",E="ADD-POST",I="UPDATE-NEW-POST-TEXT",M={arrPosts:[{id:0,likesCounte:15,post:"Hi! How are you?"},{id:1,likesCounte:12,post:"This is my first post"},{id:2,likesCounte:9,post:"blablabla"},{id:3,likesCounte:33,post:"ahhrrrr"}],newPostText:"",profile:null},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:var s={id:e.arrPosts.length,likesCounte:0,post:e.newPostText};return Object(u.a)(Object(u.a)({},e),{},{arrPosts:[].concat(Object(l.a)(e.arrPosts),[s]),newPostText:""});case I:return Object(u.a)(Object(u.a)({},e),{},{newPostText:t.postText});case A:return Object(u.a)(Object(u.a)({},e),{},{profile:t.profile});default:return e}},L="SET-USER-DATA",F={userId:null,login:null,email:null,isAuth:!1},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(u.a)(Object(u.a)(Object(u.a)({},e),t.newData),{},{isAuth:!0});default:return e}},R=Object(o.b)({profilePage:D,messagesPage:m,headerItems:h,sidebarItems:g,tasksPage:v,contactsPage:S,auth:z}),G=Object(o.c)(R);window.store=G;var H=G,W=s(24),Y=s.n(W),J=s(7),K=s.n(J),q=s(5),B=function(){return Object(a.jsxs)("div",{className:K.a.sidebar,children:[Object(a.jsx)("div",{children:Object(a.jsx)(q.b,{className:K.a.item,activeClassName:K.a.active,to:"/profile",children:"Profile"})}),Object(a.jsx)("div",{children:Object(a.jsx)(q.b,{className:K.a.item,activeClassName:K.a.active,to:"/contacts",children:"Contacts"})}),Object(a.jsx)("div",{children:Object(a.jsx)(q.b,{className:K.a.item,activeClassName:K.a.active,to:"/messages",children:"Messages"})}),Object(a.jsx)("div",{children:Object(a.jsx)(q.b,{className:K.a.item,activeClassName:K.a.active,to:"/tasks",children:"Tasks"})}),Object(a.jsx)("div",{children:Object(a.jsx)(q.b,{className:K.a.item,activeClassName:K.a.active,to:"/news",children:"News"})}),Object(a.jsx)("div",{children:Object(a.jsx)(q.b,{className:K.a.item,activeClassName:K.a.active,to:"/settings",children:"Settings"})})]})},X=s(45),Z=s.n(X),Q=function(){return Object(a.jsx)("div",{className:Z.a.item,children:"There are my news"})},V=s(46),$=s.n(V),ee=function(){return Object(a.jsx)("div",{className:$.a.item,children:"There are my Settings"})},te=s(4),se=s(13),ae=s(14),ne=s(16),re=s(15),ie=s(11),ce=s(19),oe=s.n(ce),le=s.p+"static/media/avatar.21d32664.webp",ue=function(e){return Object(a.jsxs)("div",{className:oe.a.community,children:[Object(a.jsx)("div",{className:oe.a.community__item,children:e.messagesPage.arrCommunity.map((function(e){return Object(a.jsx)("span",{children:Object(a.jsx)("div",{children:Object(a.jsxs)(q.b,{className:oe.a.item__name,activeClassName:oe.a.active,to:"/messages/".concat(e.id),children:[Object(a.jsx)("img",{className:oe.a.avatarCapture,src:null!=e.avatar?e.avatar:le,alt:"\u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0430"}),e.name]})})},e.id)}))}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:oe.a.messages,children:e.messagesPage.arrMessages.map((function(e){return Object(a.jsx)("div",{children:e.message},e.id)}))}),Object(a.jsx)("div",{children:Object(a.jsx)("textarea",{value:e.messagesPage.newMessageText,placeholder:"please, enter your message",onChange:function(t){e.updateNewMessageText(t.target.value)}})}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:function(){return e.addMessage()},children:"Send message"})})]})]})},de=function(e){Object(ne.a)(s,e);var t=Object(re.a)(s);function s(e){return Object(se.a)(this,s),t.call(this,e)}return Object(ae.a)(s,[{key:"render",value:function(){return Object(a.jsx)(ue,{messagesPage:this.props.messagesPage,addMessage:this.props.addMessage,updateNewMessageText:this.props.updateNewMessageText})}}]),s}(r.a.Component),pe=Object(ie.b)((function(e){return{messagesPage:e.messagesPage}}),{addMessage:function(){return{type:d}},updateNewMessageText:function(e){return{type:p,updateMessage:e}}})(de),je=(s(64),s(65),s(28)),me=s.n(je),_e=function(e){return Object(a.jsxs)("div",{className:me.a.list__item,children:[Object(a.jsx)("div",{className:me.a.item__description,children:e.description}),Object(a.jsx)("div",{className:me.a.item__input,children:Object(a.jsx)("input",{type:"checkbox",defaultChecked:e.completed})})]})},he=function(e){var t=e.arrListData.map((function(e){return Object(a.jsx)(_e,{description:e.description,completed:e.completed},e.id)}));return Object(a.jsx)("div",{children:t})},be=function(e){return Object(a.jsxs)("div",{className:"list",children:[Object(a.jsx)("div",{className:"list__item",children:Object(a.jsx)(he,{arrListData:e.tasksPage.arrListData})}),Object(a.jsx)("div",{children:Object(a.jsx)("textarea",{value:e.tasksPage.newTaskText,placeholder:"please, enter your message",onChange:function(t){var s=t.target.value;e.updateNewTaskText(s)}})}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:function(){e.addTask()},children:"Add task"})})]})},ge=Object(ie.b)((function(e){return{tasksPage:e.tasksPage}}),(function(e){return{addTask:function(){e({type:f})},updateNewTaskText:function(t){e(function(e){return{type:O,updateTask:e}}(t))}}}))(be),fe=(s(66),s.p+"static/media/loading.b5e6e4d8.svg"),Oe=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:fe,alt:"loading"})})},xe=s(17),ve=s.n(xe),Pe=s(48).create({withCredentials:!0,headers:{"API-KEY":"b18ec17b-1437-4ed0-a09c-9d0b79b953c9"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;return Pe.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},Ne=function(e){return Pe.delete("follow/".concat(e)).then((function(e){return e.data}))},we=function(e){return Pe.post("follow/".concat(e)).then((function(e){return e.data}))},Ce=function(e){return Pe.get("profile/".concat(e)).then((function(e){return e.data}))},ye=function(){return Pe.get("auth/me").then((function(e){return e.data}))},ke=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),s=[],n=1;n<=t;n++)s.push(n);return Object(a.jsxs)("div",{className:ve.a.contacts__page,children:[Object(a.jsx)("div",{children:s.map((function(t){return Object(a.jsx)("span",{onClick:function(){return e.onPageChanged(t)},className:e.currentPage===t?ve.a.selectedPage:ve.a.pageNumber,children:t})}))}),e.arrUsers.map((function(t){return Object(a.jsxs)("div",{className:ve.a.community__item,children:[Object(a.jsxs)("span",{children:[Object(a.jsx)("div",{children:Object(a.jsx)(q.b,{to:"/profile/".concat(t.id),children:Object(a.jsx)("img",{className:ve.a.avatarCapture,src:null!=t.photos.small?t.photos.small:le,alt:"\u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0430"})})}),Object(a.jsx)("div",{children:t.followed?Object(a.jsx)("button",{onClick:function(){Ne(t.id).then((function(s){0===s.resultCode&&e.unFollow(t.id)}))},children:"Unfollow"}):Object(a.jsx)("button",{onClick:function(){we(t.id).then((function(s){0===s.resultCode&&e.follow(t.id)}))},children:"Follow"})})]}),Object(a.jsxs)("span",{className:ve.a.item__description,children:[Object(a.jsx)("div",{className:ve.a.item__name,children:t.name}),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:t.status}),Object(a.jsxs)("p",{children:["id:",t.id]})]})]})]},t.id)}))]})},Ue=function(e){Object(ne.a)(s,e);var t=Object(re.a)(s);function s(){var e;Object(se.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).onPageChanged=function(t){e.props.setCurrentPage(t),e.props.toggleIsFetching(!0),Te(t,e.props.pageSize).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.items)}))},e}return Object(ae.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.toggleIsFetching(!0),Te(this.props.currentPage,this.props.pageSize).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.items),e.props.setTotalUsersCount(t.totalCount)}))}},{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{children:this.props.isFetching?Object(a.jsx)(Oe,{}):null}),Object(a.jsx)(ke,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,arrUsers:this.props.arrUsers,onPageChanged:this.onPageChanged,follow:this.props.follow,unFollow:this.props.unFollow})]})}}]),s}(r.a.Component),Se=Object(ie.b)((function(e){return{arrUsers:e.contactsPage.arrUsers,pageSize:e.contactsPage.pageSize,totalUsersCount:e.contactsPage.totalUsersCount,currentPage:e.contactsPage.currentPage,isFetching:e.contactsPage.isFetching}}),{showContacts:function(){return{type:P}},follow:function(e){return{type:T,userId:e}},unFollow:function(e){return{type:N,userId:e}},setUsers:function(e){return{type:w,users:e}},setCurrentPage:function(e){return{type:C,currentPage:e}},setTotalUsersCount:function(e){return{type:y,totalUsersCount:e}},toggleIsFetching:function(e){return{type:k,isFetching:e}}})(Ue),Ae=s(34),Ee=s.n(Ae),Ie=s(25),Me=s.n(Ie),De=function(e){return e.profile?Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:Me.a.profileInfo,children:[Object(a.jsx)("img",{className:Me.a.photos__small,src:e.profile.photos.small?e.profile.photos.small:le,alt:"photos.small"}),e.profile.fullName]}),Object(a.jsxs)("div",{className:Me.a.profileInfo,children:[Object(a.jsx)("img",{className:Me.a.photos__large,src:e.profile.photos.large,alt:"photos.large"}),"contacts: ",e.profile.contacts.github]})]}):Object(a.jsx)(Oe,{})},Le=s(26),Fe=s.n(Le),ze=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:Object(a.jsx)("textarea",{value:e.newPostText,placeholder:"please, enter your message",onChange:function(t){e.updateNewPostText(t.target.value)}})}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:Fe.a.button,onClick:function(){return e.addPost()},children:"Add post"})}),Object(a.jsx)("div",{children:e.arrPosts.map((function(e){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("span",{className:Fe.a.post__item,children:[Object(a.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSSrsa7JI0Kur9LTDnCQ-N3ctRlKSJ9zzbOFw&usqp=CAU",alt:"\u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0430"}),Object(a.jsx)("span",{className:Fe.a.post__text,children:e.post})]}),Object(a.jsx)("span",{children:Object(a.jsx)("button",{className:Fe.a.button,name:"like",children:"Like (".concat(e.likesCounte,")")})})]},e.id)}))})]})},Re=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:Ee.a.profile,children:Object(a.jsx)(De,{profile:e.profile})}),Object(a.jsx)("div",{className:Ee.a.profile__posts,children:Object(a.jsx)(ze,{newPostText:e.newPostText,arrPosts:e.arrPosts,addPost:e.addPost,updateNewPostText:e.updateNewPostText})})]})},Ge=function(e){Object(ne.a)(s,e);var t=Object(re.a)(s);function s(){return Object(se.a)(this,s),t.apply(this,arguments)}return Object(ae.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;t||(t=2),Ce(t).then((function(t){e.props.setUserProfile(t)}))}},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)(Re,{newPostText:this.props.newPostText,arrPosts:this.props.arrPosts,profile:this.props.profile,addPost:this.props.addPost,updateNewPostText:this.props.updateNewPostText})})}}]),s}(r.a.Component),He=Object(te.e)(Ge),We=Object(ie.b)((function(e){return{arrPosts:e.profilePage.arrPosts,newPostText:e.profilePage.newPostText,profile:e.profilePage.profile}}),{addPost:function(){return{type:E}},updateNewPostText:function(e){return{type:I,postText:e}},setUserProfile:function(e){return{type:A,profile:e}}})(He),Ye=s(18),Je=s.n(Ye),Ke=function(e){return Object(a.jsxs)("div",{className:Je.a.menu,children:[Object(a.jsxs)("div",{className:Je.a.list,children:[Object(a.jsx)("a",{className:Je.a.item,href:"#",children:"Title 1"}),Object(a.jsx)("a",{className:Je.a.item,href:"#",children:"Title 2"}),Object(a.jsx)("a",{className:Je.a.item,href:"#",children:"Title 3"}),Object(a.jsx)("a",{className:Je.a.item,href:"#",children:"Title 4"})]}),Object(a.jsx)("div",{className:Je.a.loginBlock,children:e.isAuth?e.login:Object(a.jsx)(q.b,{to:"/login",children:"Login"})})]})},qe=function(e){Object(ne.a)(s,e);var t=Object(re.a)(s);function s(){return Object(se.a)(this,s),t.apply(this,arguments)}return Object(ae.a)(s,[{key:"componentDidMount",value:function(){var e=this;ye().then((function(t){if(0===t.resultCode){var s=t.data,a=s.id,n=s.email,r=s.login;e.props.setAuthUserData(a,n,r)}}))}},{key:"render",value:function(){return Object(a.jsx)(Ke,Object(u.a)({},this.props))}}]),s}(r.a.Component),Be=Object(ie.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{setAuthUserData:function(e,t,s){return{type:L,newData:{userId:e,email:t,login:s}}}})(qe),Xe=function(){return Object(a.jsxs)("div",{className:Y.a.page,children:[Object(a.jsx)("div",{className:Y.a.page__header,children:Object(a.jsx)(Be,{})}),Object(a.jsx)("div",{className:Y.a.page__sidebar,children:Object(a.jsx)(B,{})}),Object(a.jsxs)("div",{className:Y.a.page__content,children:[Object(a.jsx)(te.a,{path:"/profile/:id?",render:function(){return Object(a.jsx)(We,{})}}),Object(a.jsx)(te.a,{path:"/contacts",render:function(){return Object(a.jsx)(Se,{})}}),Object(a.jsx)(te.a,{path:"/messages",render:function(){return Object(a.jsx)(pe,{})}}),Object(a.jsx)(te.a,{path:"/tasks",render:function(){return Object(a.jsx)(ge,{})}}),Object(a.jsx)(te.a,{path:"/news",render:function(){return Object(a.jsx)(Q,{})}}),Object(a.jsx)(te.a,{path:"/settings",render:function(){return Object(a.jsx)(ee,{})}})]})]})};c.a.render(Object(a.jsx)(q.a,{children:Object(a.jsx)(ie.a,{store:H,children:Object(a.jsx)(Xe,{})})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.b668a719.chunk.js.map